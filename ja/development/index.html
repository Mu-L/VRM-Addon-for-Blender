<!doctype html><html lang=ja dir=ltr class=scroll-smooth data-default-appearance=dark data-auto-appearance=false><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=theme-color content="rgb(255,255,255)"><meta http-equiv=x-ua-compatible content="ie=edge"><title>開発環境のセットアップ &#183; VRM Add-on for Blender</title><meta name=title content="開発環境のセットアップ &#183; VRM Add-on for Blender"><meta name=description content><link rel=canonical href=https://vrm-addon-for-blender.info/ja/development/><link rel=alternate type=application/rss+xml href=/ja/development/index.xml title="VRM Add-on for Blender"><link type=text/css rel=stylesheet href=/css/main.bundle.min.2de799e14ed7f2e0f992f49864657afa517c2681a137ca9215ba2e119d2929da2569c9aa6057fb7091a6f20ba670fc624322aab48e3e54649ff5aae6c433df85.css integrity="sha512-LeeZ4U7X8uD5kvSYZGV6+lF8JoGhN8qSFbouEZ0pKdolacmqYFf7cJGm8gumcPxiQyKqtI4+VGSf9armxDPfhQ=="><script type=text/javascript src=/js/appearance.min.c6198a5ecbc6c7b35a8568d29315f50cf5d775d4461c515a476359767f1a745c245aa83fa96b0c7d83da976cf77481e1fc29537a2391a53ffe69a991638802e6.js integrity="sha512-xhmKXsvGx7NahWjSkxX1DPXXddRGHFFaR2NZdn8adFwkWqg/qWsMfYPal2z3dIHh/ClTeiORpT/+aamRY4gC5g=="></script>
<link rel=apple-touch-icon sizes=57x57 href=/apple-icon-57x57.png><link rel=apple-touch-icon sizes=60x60 href=/apple-icon-60x60.png><link rel=apple-touch-icon sizes=72x72 href=/apple-icon-72x72.png><link rel=apple-touch-icon sizes=76x76 href=/apple-icon-76x76.png><link rel=apple-touch-icon sizes=114x114 href=/apple-icon-114x114.png><link rel=apple-touch-icon sizes=120x120 href=/apple-icon-120x120.png><link rel=apple-touch-icon sizes=144x144 href=/apple-icon-144x144.png><link rel=apple-touch-icon sizes=152x152 href=/apple-icon-152x152.png><link rel=apple-touch-icon sizes=180x180 href=/apple-icon-180x180.png><link rel=icon type=image/png sizes=192x192 href=/android-icon-192x192.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=96x96 href=/favicon-96x96.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><meta name=msapplication-TileColor content="#27272a"><meta name=msapplication-TileImage content="/ms-icon-144x144.png"><meta name=theme-color content="#27272a"><meta property="og:title" content="開発環境のセットアップ"><meta property="og:description" content><meta property="og:type" content="website"><meta property="og:url" content="https://vrm-addon-for-blender.info/ja/development/"><meta property="og:site_name" content="VRM Add-on for Blender"><meta name=twitter:card content="summary"><meta name=twitter:title content="開発環境のセットアップ"><meta name=twitter:description content><script async src="https://www.googletagmanager.com/gtag/js?id=G-L4E126M2JR"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-L4E126M2JR",{anonymize_ip:!1})}</script><script type=text/javascript src=/js/locale_redirection.js></script><meta name=thumbnail content="https://vrm-addon-for-blender.info/en/top.en.png"></head><body class="flex flex-col h-screen px-6 m-auto text-lg leading-7 max-w-7xl bg-neutral text-neutral-900 dark:bg-neutral-800 dark:text-neutral sm:px-14 md:px-24 lg:px-32"><div id=the-top class="absolute flex self-center"><a class="px-3 py-1 text-sm -translate-y-8 rounded-b-lg bg-primary-200 focus:translate-y-0 dark:bg-neutral-600" href=#main-content><span class="font-bold text-primary-600 ltr:pr-2 rtl:pl-2 dark:text-primary-400">&darr;</span>メインコンテンツへスキップ</a></div><header class="py-6 font-semibold text-neutral-900 dark:text-neutral print:hidden sm:py-10"><nav class="flex items-start justify-between sm:items-center"><div class="flex flex-row items-center"><a class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2" rel=me href=/ja>VRM Add-on for Blender</a><ul class="flex flex-row list-none"><li class=ml-2><a href=/en/development/ class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2"></a></li><li class=ml-2><a href=/ja/development/ class="decoration-primary-500 hover:underline hover:decoration-2 hover:underline-offset-2"></a></li></ul></div><ul class="flex flex-col list-none ltr:text-right rtl:text-left sm:flex-row"><li class="mb-1 group sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a href=https://vrm-addon-for-blender.info/releases/VRM_Addon_for_Blender-release.zip title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">ダウンロード</span></a></li><li class="mb-1 group sm:mb-0 ltr:sm:mr-7 ltr:sm:last:mr-0 rtl:sm:ml-7 rtl:sm:last:ml-0"><a href=https://github.com/saturday06/VRM-Addon-for-Blender/issues title><span class="decoration-primary-500 group-hover:underline group-hover:decoration-2 group-hover:underline-offset-2">バグを報告</span></a></li></ul></nav></header><div class="relative flex flex-col grow"><main id=main-content class=grow><header><h1 class="mt-0 text-4xl font-extrabold text-neutral-900 dark:text-neutral">開発環境のセットアップ</h1></header><section class="mt-0 prose flex max-w-full flex-col dark:prose-invert lg:flex-row"><div class="min-w-0 min-h-0 max-w-prose grow"><p>このリポジトリには、コードフォーマット設定、型チェック設定、ソフトウェアテスト設定が含まれています。</p><p>これらは <a href=https://docs.astral.sh/uv/ target=_blank rel="noreferrer noopener">astral-sh/uv</a> に強く依存しているので、まずそれをインストールする必要があります。あるいは、Visual Studio Codeのdevcontainerを使って全自動で設定することもできます。</p><h2 id=blenderのアドオンフォルダにレポジトリにリンクする class="relative group">Blenderのアドオンフォルダにレポジトリにリンクする <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#blender%e3%81%ae%e3%82%a2%e3%83%89%e3%82%aa%e3%83%b3%e3%83%95%e3%82%a9%e3%83%ab%e3%83%80%e3%81%ab%e3%83%ac%e3%83%9d%e3%82%b8%e3%83%88%e3%83%aa%e3%81%ab%e3%83%aa%e3%83%b3%e3%82%af%e3%81%99%e3%82%8b aria-label=アンカー>#</a></span></h2><p>開発用のソースコードは <a href=https://github.com/saturday06/VRM-Addon-for-Blender/tree/main target=_blank rel="noreferrer noopener">main</a> ブランチにあります。ブランチ内の <a href=https://github.com/saturday06/VRM-Addon-for-Blender/tree/main/src/io_scene_vrm target=_blank rel="noreferrer noopener">src/io_scene_vrm</a> フォルダがアドオン本体です。
そのフォルダへのリンクをBlenderの <code>addons</code> フォルダ内に作ることで効率的に開発をすることができます。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl># レポジトリのセットアップ
</span></span><span class=line><span class=cl>git checkout main
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Blender 4.2以上の場合
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Linux
</span></span><span class=line><span class=cl>ln -s &#34;$PWD/src/io_scene_vrm&#34; &#34;$HOME/.config/blender/BLENDER_VERSION/extensions/user_default/vrm&#34;
</span></span><span class=line><span class=cl># macOS
</span></span><span class=line><span class=cl>ln -s &#34;$PWD/src/io_scene_vrm&#34; &#34;$HOME/Library/Application Support/Blender/BLENDER_VERSION/extensions/user_default/vrm&#34;
</span></span><span class=line><span class=cl># Windows PowerShell
</span></span><span class=line><span class=cl>New-Item -ItemType Junction -Path &#34;$Env:APPDATA\Blender Foundation\Blender\BLENDER_VERSION\extensions\user_default\vrm&#34; -Value &#34;$(Get-Location)\src\io_scene_vrm&#34;
</span></span><span class=line><span class=cl># Windows Command Prompt
</span></span><span class=line><span class=cl>mklink /j &#34;%APPDATA%\Blender Foundation\Blender\BLENDER_VERSION\extensions\user_default\vrm&#34; src\io_scene_vrm
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Blender 4.2未満の場合
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># Linux
</span></span><span class=line><span class=cl>ln -s &#34;$PWD/src/io_scene_vrm&#34; &#34;$HOME/.config/blender/BLENDER_VERSION/scripts/addons/io_scene_vrm&#34;
</span></span><span class=line><span class=cl># macOS
</span></span><span class=line><span class=cl>ln -s &#34;$PWD/src/io_scene_vrm&#34; &#34;$HOME/Library/Application Support/Blender/BLENDER_VERSION/scripts/addons/io_scene_vrm&#34;
</span></span><span class=line><span class=cl># Windows PowerShell
</span></span><span class=line><span class=cl>New-Item -ItemType Junction -Path &#34;$Env:APPDATA\Blender Foundation\Blender\BLENDER_VERSION\scripts\addons\io_scene_vrm&#34; -Value &#34;$(Get-Location)\src\io_scene_vrm&#34;
</span></span><span class=line><span class=cl># Windows Command Prompt
</span></span><span class=line><span class=cl>mklink /j &#34;%APPDATA%\Blender Foundation\Blender\BLENDER_VERSION\scripts\addons\io_scene_vrm&#34; src\io_scene_vrm
</span></span></code></pre></div><h2 id=コードフォーマットの実行方法 class="relative group">コードフォーマットの実行方法 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e3%82%b3%e3%83%bc%e3%83%89%e3%83%95%e3%82%a9%e3%83%bc%e3%83%9e%e3%83%83%e3%83%88%e3%81%ae%e5%ae%9f%e8%a1%8c%e6%96%b9%e6%b3%95 aria-label=アンカー>#</a></span></h2><ol><li><a href=https://docs.astral.sh/uv/ target=_blank rel="noreferrer noopener">astral-sh/uv</a> をインストールする。</li><li>リポジトリの <code>tools\format.bat</code> をダブルクリックして実行する。</li></ol><h2 id=visual-studio-codeでのコードフォーマットの実行方法 class="relative group">Visual Studio Codeでのコードフォーマットの実行方法 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#visual-studio-code%e3%81%a7%e3%81%ae%e3%82%b3%e3%83%bc%e3%83%89%e3%83%95%e3%82%a9%e3%83%bc%e3%83%9e%e3%83%83%e3%83%88%e3%81%ae%e5%ae%9f%e8%a1%8c%e6%96%b9%e6%b3%95 aria-label=アンカー>#</a></span></h2><ol><li><a href=https://docs.astral.sh/uv/ target=_blank rel="noreferrer noopener">astral-sh/uv</a> をインストールする。</li><li>Visual Studio Code のターミナルで <code>uv sync</code> コマンドを実行する。</li><li>Visual Studio Code の <code>Format Document</code> を実行する。</li></ol><p>Visual Studio Code の <code>Ruff</code> 拡張機能を使っても同じ結果が得られる。</p><h2 id=型チェックの実行方法 class="relative group">型チェックの実行方法 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e5%9e%8b%e3%83%81%e3%82%a7%e3%83%83%e3%82%af%e3%81%ae%e5%ae%9f%e8%a1%8c%e6%96%b9%e6%b3%95 aria-label=アンカー>#</a></span></h2><ol><li><a href=https://docs.astral.sh/uv/ target=_blank rel="noreferrer noopener">astral-sh/uv</a> をインストールする。</li><li>リポジトリの <code>tools\lint.bat</code> をダブルクリックして実行する。</li></ol><h2 id=visual-studio-codeでの型チェックの実行方法 class="relative group">Visual Studio Codeでの型チェックの実行方法 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#visual-studio-code%e3%81%a7%e3%81%ae%e5%9e%8b%e3%83%81%e3%82%a7%e3%83%83%e3%82%af%e3%81%ae%e5%ae%9f%e8%a1%8c%e6%96%b9%e6%b3%95 aria-label=アンカー>#</a></span></h2><ol><li><a href=https://docs.astral.sh/uv/ target=_blank rel="noreferrer noopener">astral-sh/uv</a> をインストールする。</li><li>Visual Studio Code のターミナルで <code>uv sync</code> コマンドを実行する。</li><li>Visual Studio Code に <code>Ruff</code>、<code>Mypy Type Checker</code>、<code>Pylance</code> 拡張をインストールする。</li><li>タイプチェックをしたい py ファイルを開く。</li></ol><h2 id=ソフトウェアテストの実行方法 class="relative group">ソフトウェアテストの実行方法 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#%e3%82%bd%e3%83%95%e3%83%88%e3%82%a6%e3%82%a7%e3%82%a2%e3%83%86%e3%82%b9%e3%83%88%e3%81%ae%e5%ae%9f%e8%a1%8c%e6%96%b9%e6%b3%95 aria-label=アンカー>#</a></span></h2><ol><li><a href=https://docs.astral.sh/uv/ target=_blank rel="noreferrer noopener">astral-sh/uv</a> をインストールする。</li><li>リポジトリの <code>tools\test.bat</code> をダブルクリックして実行する。</li><li>Blenderが見つからないという趣旨のエラーが表示されたら、環境変数 <code>BLENDER_VRM_TEST_BLENDER_PATH</code> に Blender 4.2 または 3.6 または 3.3 または 2.93 の exe ファイルのパスを設定する。</li></ol><h2 id=visual-studio-codeでのソフトウェアテストを実行方法 class="relative group">Visual Studio Codeでのソフトウェアテストを実行方法 <span class="absolute top-0 w-6 transition-opacity opacity-0 ltr:-left-6 rtl:-right-6 not-prose group-hover:opacity-100"><a class="group-hover:text-primary-300 dark:group-hover:text-neutral-700" style=text-decoration-line:none!important href=#visual-studio-code%e3%81%a7%e3%81%ae%e3%82%bd%e3%83%95%e3%83%88%e3%82%a6%e3%82%a7%e3%82%a2%e3%83%86%e3%82%b9%e3%83%88%e3%82%92%e5%ae%9f%e8%a1%8c%e6%96%b9%e6%b3%95 aria-label=アンカー>#</a></span></h2><ol><li><a href=https://docs.astral.sh/uv/ target=_blank rel="noreferrer noopener">astral-sh/uv</a> をインストールする。</li><li>Visual Studio Code のターミナルで <code>uv sync</code> コマンドを実行する。</li><li>Visual Studio Code の左のアイコンから <code>Testing</code> を選択する。</li><li><code>Configure Python Tests</code> を選択する。</li><li>テストライブラリとして <code>unittests</code> を選択する。</li><li>テストフォルダとして <code>Root Directory</code> を選択する。</li><li>テストファイルパターンとして <code>test_*</code> を選択する。</li><li><code>Run Tests</code> を押す。</li><li><code>Blender not found</code> というエラーが表示されたら、環境変数 <code>BLENDER_VRM_TEST_BLENDER_PATH</code> に Blender 4.2 または 3.6 または 3.3 または 2.93 の exe ファイルのパスを設定する。</li></ol></div></section><section class="mt-10 prose dark:prose-invert"><p class="py-8 border-t"><em>ここに掲載する記事はまだありません。</em></p></section><div class="pointer-events-none absolute top-[100vh] bottom-0 w-12 ltr:right-0 rtl:left-0"><a href=#the-top class="pointer-events-auto sticky top-[calc(100vh-5.5rem)] flex h-12 w-12 items-center justify-center rounded-full bg-neutral/50 text-xl text-neutral-700 backdrop-blur hover:text-primary-600 dark:bg-neutral-800/50 dark:text-neutral dark:hover:text-primary-400" aria-label=TOPへスクロール title=TOPへスクロール>&uarr;</a></div></main><footer class="py-10 print:hidden"><div class="flex items-center justify-between"><div><p class="text-sm text-neutral-500 dark:text-neutral-400">© 2022 - 2023 saturday06</p><p class="text-xs text-neutral-500 dark:text-neutral-400">Powered by <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://gohugo.io/ target=_blank rel="noopener noreferrer">Hugo</a> & <a class="hover:underline hover:decoration-primary-400 hover:text-primary-500" href=https://git.io/hugo-congo target=_blank rel="noopener noreferrer">Congo</a></p></div></div></footer></div></body></html>